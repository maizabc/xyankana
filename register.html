<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Đăng ký tài khoản</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container py-5">
  <h2 class="mb-4">Đăng ký</h2>
  <input type="text" id="username" class="form-control mb-3" placeholder="Tên tài khoản">
  <input type="email" id="email" class="form-control mb-3" placeholder="Gmail">
  <input type="password" id="password" class="form-control mb-3" placeholder="Mật khẩu">
  <input type="password" id="confirmPassword" class="form-control mb-3" placeholder="Nhập lại mật khẩu">
  <button onclick="register()" class="btn btn-success">Tạo tài khoản</button>
  <p class="mt-3">Đã có tài khoản? <a href="login.html">Đăng nhập</a></p>
</div>

<script>
function register() {
  const username = document.getElementById("username").value.trim();
  const email = document.getElementById("email").value.trim();
  const password = document.getElementById("password").value;
  const confirmPassword = document.getElementById("confirmPassword").value;

  if (!username || !email || !password || !confirmPassword) {
    alert("⚠️ Vui lòng điền đầy đủ thông tin!");
    return;
  }

  if (password !== confirmPassword) {
    alert("❌ Mật khẩu nhập lại không khớp!");
    return;
  }

  const users = JSON.parse(localStorage.getItem("users") || "{}");

  if (users[username]) {
    alert("❌ Tên tài khoản đã tồn tại. Vui lòng chọn tên khác.");
    return;
  }

  users[username] = {
    email: email,
    password: password
  };

  localStorage.setItem("users", JSON.stringify(users));
  alert("✅ Đăng ký thành công!");
  window.location.href = "login.html";
  console.log("Đã lưu:", JSON.parse(localStorage.getItem("users")));
}
</script>
</body>
</html>
